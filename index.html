<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ModelViewer Click-to-Rotate</title>
  <!-- โหลด model-viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #f0f0f0;
      margin: 0;
      font-family: sans-serif;
    }
    #model-container {
      position: relative;
      width: 400px;
      height: 400px;
      cursor: pointer;
    }
    #thumbnail {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: transform 0.2s;
    }
    #thumbnail:hover {
      transform: scale(1.05);
    }
    model-viewer {
      width: 100%;
      height: 100%;
      display: none; /* ซ่อนไว้ก่อน */
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>

<div id="model-container">
  <!-- ภาพนิ่งตัวแทนโมเดล -->
  <img id="thumbnail" src="แฟ้ม JPG (.jpg).jpg" alt="คลิกเพื่อดูโมเดล">
  
  <!-- โมเดล 3D -->
  <model-viewer id="model3d"
    src="3D Object (.glb).glb"
    alt="โมเดล 3D"
    auto-rotate
    camera-controls
    shadow-intensity="1"
    exposure="1">
  </model-viewer>
</div>

<script>
  const thumbnail = document.getElementById('thumbnail');
  const model3d = document.getElementById('model3d');

  thumbnail.addEventListener('click', () => {
    // ซ่อนภาพนิ่ง → แสดงโมเดล พร้อม Fade-in
    thumbnail.style.display = 'none';
    model3d.style.display = 'block';
    model3d.style.opacity = 0;
    let opacity = 0;
    const fadeIn = setInterval(() => {
      opacity += 0.05;
      model3d.style.opacity = opacity;
      if(opacity >= 1) clearInterval(fadeIn);
    }, 30);
  });
</script>

</body>
</html>